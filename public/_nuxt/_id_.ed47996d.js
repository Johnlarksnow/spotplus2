import{_ as w}from"./nuxt-link.6b940b85.js";import b from"./Icon.6c2594f7.js";import{f as k,g as v,h as j,i as C,o as t,c as s,j as c,b as a,w as _,a as e,t as S,F as T,r as B,d as i}from"./entry.0e2e8ba9.js";import{u as A}from"./fetch.4516efe2.js";import{u as N}from"./store.a524df98.js";import"./config.f96e3412.js";import"./_plugin-vue_export-helper.c27b6911.js";const L=""+globalThis.__publicAssetsURL("cbase.svg"),$={class:"flex w-full flex-col h-full gap-2 items-center justify-center"},O={key:0},z={key:1,class:"flex md:w-3/6 flex-col gap-2 items-center justify-center"},F={key:0,class:"flex w-full flex-col gap-2"},I=e("h1",{class:"text-2xl font-bold"}," Checkout ",-1),P={class:"text-gray-400 text-lg"},V=e("h2",{class:"flex gap-2 items-center text-xl font-bold"},[e("img",{src:L,class:"w-10 h-10"}),i(" Pay with Coinbase ")],-1),E=[V],H={class:"space-y-2"},J=e("h3",{class:"text-lg text-gray-400"}," Supported Coins ",-1),R={class:"flex gap-2"},U=["src"],D={key:1,class:"w-full flex justify-center"},G={class:"flex flex-col gap-2 items-center justify-center"},K=e("h1",{class:"font-bold text-3xl text-center"}," This payment has already been paid. Go grab your key from ",-1),M={key:2,class:"w-full flex justify-center"},X={class:"flex flex-col gap-2 items-center justify-center"},q=e("h1",{class:"font-bold text-3xl text-center"}," This payment has been failed or cancelled. Buy another key from ",-1),ae=k({__name:"[id]",async setup(Q){let n,h;const p=v(),u=N();j(()=>{document.body.style.paddingLeft="0px"});const{data:l,pending:x}=([n,h]=C(()=>A("https://supgrade-api.site/api/v1/payments/valid",{method:"POST",body:JSON.stringify({checkoutId:p.params.id}),headers:{Authorization:`Bearer ${u.jwt}`}},"$9KzXyUxCsi")),n=await n,h(),n);async function y(){try{const o=await fetch("https://supgrade-api.site/api/v1/payments/checkout",{method:"POST",body:JSON.stringify({gateway:"cryptocurrency",id:p.params.id}),headers:{Authorization:`Bearer ${u.jwt}`,"Content-Type":"application/json"}});if(!o.ok){console.error("Error: The server responded with an error",o.status);return}const r=await o.json();r&&r.link?window.location.href=r.link:console.error("Invalid response format or missing link property")}catch(o){console.error("An error occurred during payment:",o)}}const g=["btc","eth","ltc","usdt","usc"];return(o,r)=>{const d=w,f=b;return t(),s("div",$,[c(x)?(t(),s("div",O," Loading... ")):(t(),s("div",z,[c(l).status==="unpaid"?(t(),s("div",F,[a(d,{to:"/",class:"text-green-500 font*bold text-lg hover:text-green-400 transition-all"},{default:_(()=>[i(" ← Back to home ")]),_:1}),I,e("h2",P,S(c(l).email),1),e("button",{class:"flex flex-col w-full md:flex-row md:justify-between items-center gap-2 bg-[#181818] p-4 rounded-lg",onClick:y},E),e("div",H,[J,e("div",R,[(t(),s(T,null,B(g,m=>e("img",{key:m,src:`/${m}.svg`,class:"w-10 h-10"},null,8,U)),64))])])])):c(l).status==="success"?(t(),s("div",D,[e("div",G,[K,a(d,{to:"/upgrade",class:"text-xl text-green-500 font-bold hover:text-green-400 transition-all"},{default:_(()=>[i(" Here "),a(f,{name:"tabler:arrow-right",class:"w-6 h-6"})]),_:1})])])):(t(),s("div",M,[e("div",X,[q,a(d,{to:"/dashboard",class:"text-xl text-green-500 font-bold hover:text-green-400 transition-all"},{default:_(()=>[i(" Here "),a(f,{name:"tabler:arrow-right",class:"w-6 h-6"})]),_:1})])]))]))])}}});export{ae as default};
